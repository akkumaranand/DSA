//=====================================>> Q1). Delete node in Doubly Linked List  <<=======================================================================================================

class Solution
{
public:
    Node *deleteNode(Node *head_ref, int x)
    {
        //Your code here
        Node *head = head_ref;
        if (head == NULL)
        {
            return NULL;
        }

        if (x == 1)
        {
            if (head->next != NULL)
            {
                head_ref = head_ref->next;
                head_ref->prev = NULL;
            }
            else
            {
                // If x is 1 and there is only one node, set head_ref to NULL
                delete head;
                return NULL;
            }
        }

        int count = 1;

        while (head->next != NULL && x != count)
        {
            count = count + 1;
            head = head->next;
        }

        // head pointer wahi value ko point kar raha hai
        Node *previous = NULL;
        Node *nextnode = NULL;

        if (count == x)
        {
            // delete karna hai
            previous = head->prev;
            nextnode = head->next;
            if (previous != NULL)
                previous->next = nextnode;

            // Check if it is not the last node
            if (nextnode != NULL)
                nextnode->prev = previous;

            delete head;
        }

        return head_ref;
    }
};

// ---------------------------------------Q2) CYCLE DETECTION POINT ------------------------------------------------------------------------------------------

Node *firstNode(Node *head)
{

    if(head == NULL || head->next == NULL){
        return NULL;
    }
    Node * slow = head;
    Node * fast = head;
    Node * p1 = NULL;

    

    while(fast != NULL && fast->next != NULL){
        slow = slow->next;
        fast = fast->next->next;

        // meeting point of the slow and fast 
        if(slow == fast){
            p1 = slow;
            break ;
        }
    }
    if(p1 == NULL){
        return NULL;
    }
    slow = head;
    while(slow != p1 && slow != NULL && fast != NULL){
        slow = slow->next;
        p1 = p1->next;
    }
    
    return p1;

}

// -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
